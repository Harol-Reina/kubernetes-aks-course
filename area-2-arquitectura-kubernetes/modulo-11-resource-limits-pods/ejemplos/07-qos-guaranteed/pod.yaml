# =============================================================================
# QoS Class: GUARANTEED
# =============================================================================
#
# Condiciones para Guaranteed:
# 1. TODOS los contenedores tienen requests Y limits para CPU y Memory
# 2. Para CADA contenedor: requests.cpu == limits.cpu
# 3. Para CADA contenedor: requests.memory == limits.memory
#
# CaracterÃ­sticas:
# - ğŸ›¡ï¸ Ãšltima en ser evicted (mÃ¡xima protecciÃ³n)
# - ğŸ“Š Recursos 100% predecibles
# - ğŸ’° Puede resultar en over-provisioning
# - ğŸ¯ Uso: Bases de datos, aplicaciones crÃ­ticas
# =============================================================================

apiVersion: v1
kind: Pod
metadata:
  name: qos-guaranteed
  labels:
    qos-class: guaranteed
    example: qos-demo
  annotations:
    description: "QoS: Guaranteed - request == limit"
spec:
  containers:
  - name: nginx
    image: nginx:1.25-alpine
    resources:
      requests:
        cpu: "500m"
        memory: "256Mi"
      limits:
        cpu: "500m"      # âœ… Igual a request
        memory: "256Mi"  # âœ… Igual a request
    ports:
    - containerPort: 80

# =============================================================================
# COMANDOS ÃšTILES
# =============================================================================
#
# Aplicar:
# kubectl apply -f pod.yaml
#
# Verificar QoS Class:
# kubectl get pod qos-guaranteed -o jsonpath='{.status.qosClass}'
# Output: Guaranteed
#
# Ver detalles:
# kubectl describe pod qos-guaranteed | grep "QoS Class"
#
# Ver recursos:
# kubectl describe pod qos-guaranteed | grep -A 10 "Requests:"
#
# Limpiar:
# kubectl delete -f pod.yaml
