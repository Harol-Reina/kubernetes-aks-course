# Pod consumiendo TODAS las claves del ConfigMap como variables
apiVersion: v1
kind: Pod
metadata:
  name: env-from-configmap-all
spec:
  containers:
  - name: app
    image: busybox:1.36
    command: ["sh", "-c", "echo '=== Variables desde ConfigMap ===' && env | sort && sleep 3600"]
    
    # Importar TODAS las claves del ConfigMap como variables
    envFrom:
    - configMapRef:
        name: app-config
    
    # También se pueden combinar con variables estáticas
    env:
    - name: CUSTOM_VAR
      value: "valor-adicional"
---
# ConfigMap con múltiples claves
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
data:
  database_host: "postgres.default.svc.cluster.local"  # Nota: guión bajo (válido en env vars)
  database_port: "5432"
  app_environment: "production"
  log_level: "info"
  cache_enabled: "true"
  max_connections: "100"
